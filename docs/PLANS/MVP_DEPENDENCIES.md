KEYWORDS: план, mvp, граф, зависимости, задачи
[ANCHOR:PROJECT:TGBOT:PLAN:MVP]
<HARMONY:BEGIN name="PROJECT:TGBOT:PLAN:MVP">
# План работ для MVP и граф зависимостей

<HARMONY:BEGIN name="PROJECT:TGBOT:PLAN:MVP:OVERVIEW">
## Обзор
Документ фиксирует однонаправленный граф выполнения задач, необходимых для получения минимально жизнеспособной версии платформы. Источник истины по формулировкам задач — файлы `docs/ISSUES/`.
<HARMONY:END name="PROJECT:TGBOT:PLAN:MVP:OVERVIEW">

<HARMONY:BEGIN name="PROJECT:TGBOT:PLAN:MVP:NODES">
## Перечень задач
- A-001 — Специфицировать контракт Telegram-бота.
- A-002 — Спроектировать асинхронные схемы API ядра и каркас модулей.
- A-003 — Уточнить контракт регистрации плагинов и событий ядра.
- D-001 — Подготовить базовую Python-конфигурацию.
- D-002 — Реализовать каркас FastAPI ядра.
- D-003 — Реализовать модели БД и миграции.
- D-004 — Реализовать асинхронный LLM-клиент.
- D-005 — Реализовать плагин текстового ответа.
- D-006 — Реализовать плагин генерации плагинов.
- D-007 — Реализовать адаптер Telegram.
- D-008 — Настроить docker-compose.
- D-009 — Настроить GitHub Actions.
- T-001 — Контрактные тесты API ядра.
- T-002 — Интеграционные тесты ядра и плагинов.
- T-003 — End-to-end тест Telegram-бота.
<HARMONY:END name="PROJECT:TGBOT:PLAN:MVP:NODES">

<HARMONY:BEGIN name="PROJECT:TGBOT:PLAN:MVP:GRAPH">
## Граф зависимостей (ориентированный ациклический)
Следующая таблица описывает ориентированные рёбра `A → B`, где выполнение `A` разблокирует `B`:

| A | B |
|---|---|
| A-001 | D-007 |
| A-001 | T-003 |
| A-002 | D-001 |
| A-002 | D-002 |
| A-002 | D-003 |
| A-002 | T-001 |
| A-003 | D-002 |
| A-003 | D-005 |
| A-003 | D-006 |
| A-003 | T-002 |
| D-001 | D-002 |
| D-001 | D-003 |
| D-001 | D-004 |
| D-001 | D-007 |
| D-001 | D-008 |
| D-001 | D-009 |
| D-001 | T-001 |
| D-002 | D-005 |
| D-002 | D-006 |
| D-002 | D-008 |
| D-002 | T-001 |
| D-002 | T-002 |
| D-003 | D-002 |
| D-003 | D-008 |
| D-003 | T-001 |
| D-003 | T-002 |
| D-004 | D-005 |
| D-004 | D-006 |
| D-004 | T-002 |
| D-005 | D-008 |
| D-005 | T-002 |
| D-006 | D-008 |
| D-006 | T-002 |
| D-007 | D-008 |
| D-007 | T-003 |
| D-008 | T-002 |
| D-008 | T-003 |
| D-009 | T-001 |
| D-009 | T-002 |
| D-009 | T-003 |
| T-001 | T-002 |
| T-002 | T-003 |
<HARMONY:END name="PROJECT:TGBOT:PLAN:MVP:GRAPH">

<HARMONY:BEGIN name="PROJECT:TGBOT:PLAN:MVP:ORDER">
## Топологическая последовательность (рекомендация)
1. A-002 → A-003 → A-001 (выполнено в S004).
2. D-001 (выполнено в S005) → D-003 → D-002 (выполнено в S006) → D-004.
3. D-005 и D-006 (после D-002, D-004) параллельно.
4. D-007 (после A-001, D-001, D-002).
5. D-008 (после D-002, D-003, D-005, D-006, D-007).
6. D-009 (после D-001).
7. T-001 (после D-002, D-003, D-009).
8. T-002 (после T-001, D-008 и связанных плагинов).
9. T-003 (после T-002 и Telegram-адаптера).
<HARMONY:END name="PROJECT:TGBOT:PLAN:MVP:ORDER">

<HARMONY:BEGIN name="PROJECT:TGBOT:PLAN:MVP:RISKS">
## Риски и проверки
- Решение по режиму Telegram: long polling подтверждён (webhook переносится в бэклог) — учтено в D-007 и тестах T-003.
- Провайдер LLM: OpenAI зафиксирован, mock обязателен для локальной разработки (D-004, D-005, D-006).
- Redis добавлен как обязательная зависимость; D-001 должен подготовить конфигурацию и health-check, T-002 — симулировать деградацию (см. триггеры `TR-009`, `TR-010`).
<HARMONY:END name="PROJECT:TGBOT:PLAN:MVP:RISKS">

<HARMONY:END name="PROJECT:TGBOT:PLAN:MVP">
